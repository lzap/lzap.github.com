<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><style>:root{--accent-color:#FF4D4D}</style><title>The Apple way - LLVM</title><meta name=description content="engineer in pyjama"><meta name=keywords content="blog,lzap,lukáš,zapletal,linux,tech,gcc,fedora,phoronix,llvm"><meta property="og:url" content="https://blog.zapletalovi.com/posts/2012-02-20-apple-way-llvm/"><meta property="og:type" content="website"><meta property="og:title" content="The Apple way - LLVM"><meta property="og:description" content="engineer in pyjama"><meta property="og:image" content="/images/avatar_rh_512.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="The Apple way - LLVM"><meta name=twitter:description content="engineer in pyjama"><meta property="twitter:domain" content="https://blog.zapletalovi.com/posts/2012-02-20-apple-way-llvm/"><meta property="twitter:url" content="https://blog.zapletalovi.com/posts/2012-02-20-apple-way-llvm/"><meta name=twitter:image content="/images/avatar_rh_512.jpg"><link rel=canonical href=https://blog.zapletalovi.com/posts/2012-02-20-apple-way-llvm/><link rel=stylesheet type=text/css href=https://blog.zapletalovi.com/css/normalize.min.css media=print onload='this.media="all"'><link rel=stylesheet type=text/css href=https://blog.zapletalovi.com/css/main.css><link disabled id=dark-theme rel=stylesheet href=https://blog.zapletalovi.com/css/dark.css><script src=https://blog.zapletalovi.com/js/svg-injector.min.js></script>
<script src=https://blog.zapletalovi.com/js/feather-icons.min.js></script>
<script src=https://blog.zapletalovi.com/js/main.js></script>
<script type=text/javascript>var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-16034952-1"]),_gaq.push(["_trackPageview"]),function(){var t,e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)}()</script></head><body><script type=text/javascript>setThemeByUserPref()</script><header class=header><nav class=header-nav><div class=avatar><a href=https://blog.zapletalovi.com><img src=https://blog.zapletalovi.com/images/avatar_rh_512.jpg alt=avatar></a></div><div class=nav-title><a class=nav-brand href=https://blog.zapletalovi.com>Lukáš Zapletal</a></div><div class=nav-links><div class=nav-link><a href=https://blog.zapletalovi.com/posts/>Posts</a></div><div class=nav-link><a href=https://blog.zapletalovi.com/me/>About me</a></div><div class=nav-link><a href=https://blog.zapletalovi.com/contact/>Contact</a></div><div class=nav-link><a href=https://blog.zapletalovi.com/tags/>Tags</a></div><div class=nav-link><a href=https://github.com/lzap><span data-feather=github></span></a></div><div class=nav-link><a href=https://mastodon.social/@lzap><img class=svg-inject src=/svg/icons/mastodon.svg></a></div><div class=nav-link><a href=https://twitter.com/lzap><span data-feather=twitter></span></a></div><div class=nav-link><a href=https://www.buymeacoffee.com/lzap><span data-feather=coffee></span></a></div><div class=nav-link><a href=https://blog.zapletalovi.com/index.xml><span data-feather=rss></span></a></div><span class=nav-icons-divider></span><div class="nav-link dark-theme-toggle"><span id=dark-theme-toggle-screen-reader-target class=sr-only></span>
<a><span id=theme-toggle-icon data-feather=moon></span></a></div><div class=nav-link id=hamburger-menu-toggle><span id=hamburger-menu-toggle-screen-reader-target class=sr-only>menu</span>
<a><span data-feather=menu></span></a></div><ul class="nav-hamburger-list visibility-hidden"><li class=nav-item><a href=https://blog.zapletalovi.com/posts/>Posts</a></li><li class=nav-item><a href=https://blog.zapletalovi.com/me/>About me</a></li><li class=nav-item><a href=https://blog.zapletalovi.com/contact/>Contact</a></li><li class=nav-item><a href=https://blog.zapletalovi.com/tags/>Tags</a></li><li class=nav-item><a href=https://github.com/lzap><span data-feather=github></span></a></li><li class=nav-item><a href=https://mastodon.social/@lzap><img class=svg-inject src=/svg/icons/mastodon.svg></a></li><li class=nav-item><a href=https://twitter.com/lzap><span data-feather=twitter></span></a></li><li class=nav-item><a href=https://www.buymeacoffee.com/lzap><span data-feather=coffee></span></a></li><li class=nav-item><a href=https://blog.zapletalovi.com/index.xml><span data-feather=rss></span></a></li><li class="nav-item dark-theme-toggle"><span id=dark-theme-toggle-screen-reader-target class=sr-only>theme</span>
<a><span id=theme-toggle-icon data-feather=moon></span></a></li></ul></div></nav></header><main id=content><div class="post container"><div class=post-header-section><h1>The Apple way - LLVM</h1><small role=doc-subtitle></small><p class=post-date>February 20, 2012</p><ul class=post-tags><li class=post-tag><a href=https://blog.zapletalovi.com/tags/gcc>gcc</a></li><li class=post-tag><a href=https://blog.zapletalovi.com/tags/fedora>fedora</a></li><li class=post-tag><a href=https://blog.zapletalovi.com/tags/phoronix>phoronix</a></li><li class=post-tag><a href=https://blog.zapletalovi.com/tags/llvm>llvm</a></li></ul></div><div class=post-content><p><br>There is a very <a href=http://lists.fedoraproject.org/pipermail/devel/2012-February/thread.html#162793>interesting discussion</a> on the Fedora devel mailing list about LLVM and GCC compilators started with short reaction on <b>Apple's migration to LLVM</b> in their Xcode development environment. The original author <a href=http://lists.fedoraproject.org/pipermail/devel/2012-February/162793.html>asks</a> if llvm is ready to do same for several important linux packages.<br><br>Fedora developers were confused with that statement asking <b>what is the point</b>. Matthew Garrett <a href=http://lists.fedoraproject.org/pipermail/devel/2012-February/162809.html>pointed out</a> there are already some packages in Fedora which are being built with LLVM, but there is no plan for whole migration to LLVM. Also because the kernel does not support it by default. And that was the starting point, <a href=http://lists.fedoraproject.org/pipermail/devel/2012-February/162814.html>Rahul Sundaram</a> plays with the idea:<br><blockquote class=tr_bq><i>LLVM can be used to build the kernel and what Linus does doesn't matter as much (kernel is important but only one component) as showing that Fedora on the whole will actually benefit from moving to LLVM. For that, LLVM has to so much better than GCC and someone has to do the work within Fedora to show that it is the case.</i></blockquote><div>Developers agreed on the opinion Apple is trying to avoid GCC because it is licensed under GNU GPL while LLVM has much more permissive BSD one. Somebody linked recent changes in the CUPS printing subsystem which are inappropriate for Linux, but Apple is now paying the lead CUPS developer. But this is nothing unusual, even Red Hat is able to put strong direction for software under their control. The good thing it is still open-source software - <b>everybody can fix, patch, fork</b>. Some pople hate forking, but belive me, it is so natural open-source process. By the way nobody forked CUPS - there is no reason to do it right now.<br><br>The most interesting reply is not about licenses, but rather about <b>quality</b>:</div><div><blockquote class=tr_bq><i>The another usual mistake when people compare speed of GCC and LLVM is to use -O2 for the both compilers. But the true is that -O1 of GCC is -O2 of LLVM with the point of code generation quality. The compiler speed of GCC with -O1 is the same as for LLVM with -O2. You can find the latest comparison of LLVM and GCC on <a href=http://vmakarov.fedorapeople.org/spec/>http://vmakarov.fedorapeople.org/spec/</a> (see 2011 comparison at the bottom of the left frame).</i></blockquote></div><div>What we see here is a <b>Phoronix effect</b>. Michael, the Phoronix author, created extraordinary open-source test suite (Phoronix Test Suite - PTS) and he writes &nbsp;lots of interesting articles. His work are inestimale for the community - for example tracking those regression bugs really helped to give it poppularity and I really appreciate what he does. +1</div><div><br>On the other hand, he runs an <b>e-zine</b>. He writes about things that people follow. One example is LLVM. So many articles about this awesome technology, so many graphs. People start to think LLVM performs better than GCC. Plain truth? It is not.<br><br>Apple creates awesome things. But <b>awesome things are not always the best things</b>.</div></p></div></div></main><footer class=footer><span>&copy; 2022 Lukáš Zapletal, CC BY 4.0</span>
<span>Built with <a href=https://gohugo.io>hugo</a>, template <a target=_blank href=https://github.com/526avijitgupta/gokarna>gokarna</a></span></footer></body></html>