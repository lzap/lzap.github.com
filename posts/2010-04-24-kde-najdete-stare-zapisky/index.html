<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><style>:root{--accent-color:#FF4D4D}</style><title>Kde najdete staré zápisky</title><meta name=description content="engineer in pyjama"><meta name=keywords content="blog,lzap,lukáš,zapletal,linux,tech"><meta property="og:url" content="https://blog.zapletalovi.com/posts/2010-04-24-kde-najdete-stare-zapisky/"><meta property="og:type" content="website"><meta property="og:title" content="Kde najdete staré zápisky"><meta property="og:description" content="engineer in pyjama"><meta property="og:image" content="/images/avatar_rh_512.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Kde najdete staré zápisky"><meta name=twitter:description content="engineer in pyjama"><meta property="twitter:domain" content="https://blog.zapletalovi.com/posts/2010-04-24-kde-najdete-stare-zapisky/"><meta property="twitter:url" content="https://blog.zapletalovi.com/posts/2010-04-24-kde-najdete-stare-zapisky/"><meta name=twitter:image content="/images/avatar_rh_512.jpg"><link rel=canonical href=https://blog.zapletalovi.com/posts/2010-04-24-kde-najdete-stare-zapisky/><link rel=stylesheet type=text/css href=https://blog.zapletalovi.com/css/normalize.min.css media=print onload='this.media="all"'><link rel=stylesheet type=text/css href=https://blog.zapletalovi.com/css/main.css><link disabled id=dark-theme rel=stylesheet href=https://blog.zapletalovi.com/css/dark.css><script src=https://blog.zapletalovi.com/js/svg-injector.min.js></script>
<script src=https://blog.zapletalovi.com/js/feather-icons.min.js></script>
<script src=https://blog.zapletalovi.com/js/main.js></script>
<script type=text/javascript>var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-16034952-1"]),_gaq.push(["_trackPageview"]),function(){var t,e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)}()</script></head><body><script type=text/javascript>setThemeByUserPref()</script><header class=header><nav class=header-nav><div class=avatar><a href=https://blog.zapletalovi.com><img src=https://blog.zapletalovi.com/images/avatar_rh_512.jpg alt=avatar></a></div><div class=nav-title><a class=nav-brand href=https://blog.zapletalovi.com>Lukáš Zapletal</a></div><div class=nav-links><div class=nav-link><a href=https://blog.zapletalovi.com/posts/>Posts</a></div><div class=nav-link><a href=https://blog.zapletalovi.com/me/>About me</a></div><div class=nav-link><a href=https://blog.zapletalovi.com/contact/>Contact</a></div><div class=nav-link><a href=https://blog.zapletalovi.com/tags/>Tags</a></div><div class=nav-link><a href=https://github.com/lzap><span data-feather=github></span></a></div><div class=nav-link><a href=https://mastodon.social/@lzap><img class=svg-inject src=/svg/icons/mastodon.svg></a></div><div class=nav-link><a href=https://twitter.com/lzap><span data-feather=twitter></span></a></div><div class=nav-link><a href=https://www.buymeacoffee.com/lzap><span data-feather=coffee></span></a></div><div class=nav-link><a href=https://blog.zapletalovi.com/index.xml><span data-feather=rss></span></a></div><span class=nav-icons-divider></span><div class="nav-link dark-theme-toggle"><span id=dark-theme-toggle-screen-reader-target class=sr-only></span>
<a><span id=theme-toggle-icon data-feather=moon></span></a></div><div class=nav-link id=hamburger-menu-toggle><span id=hamburger-menu-toggle-screen-reader-target class=sr-only>menu</span>
<a><span data-feather=menu></span></a></div><ul class="nav-hamburger-list visibility-hidden"><li class=nav-item><a href=https://blog.zapletalovi.com/posts/>Posts</a></li><li class=nav-item><a href=https://blog.zapletalovi.com/me/>About me</a></li><li class=nav-item><a href=https://blog.zapletalovi.com/contact/>Contact</a></li><li class=nav-item><a href=https://blog.zapletalovi.com/tags/>Tags</a></li><li class=nav-item><a href=https://github.com/lzap><span data-feather=github></span></a></li><li class=nav-item><a href=https://mastodon.social/@lzap><img class=svg-inject src=/svg/icons/mastodon.svg></a></li><li class=nav-item><a href=https://twitter.com/lzap><span data-feather=twitter></span></a></li><li class=nav-item><a href=https://www.buymeacoffee.com/lzap><span data-feather=coffee></span></a></li><li class=nav-item><a href=https://blog.zapletalovi.com/index.xml><span data-feather=rss></span></a></li><li class="nav-item dark-theme-toggle"><span id=dark-theme-toggle-screen-reader-target class=sr-only>theme</span>
<a><span id=theme-toggle-icon data-feather=moon></span></a></li></ul></div></nav></header><main id=content><div class="post container"><div class=post-header-section><h1>Kde najdete staré zápisky</h1><small role=doc-subtitle></small><p class=post-date>April 24, 2010</p><ul class=post-tags></ul></div><div class=post-content><p>Můj starý blog běžící na php wiki motoru DokuWiki je pryč. Protože obsahoval spoustu zajímavých článků, některé jsem převedl jsem na Blogger. Nebylo ovšem technicky možné přesunout všech zhruba 700 příspěvků, proto jsem situaci řešil jinak.<br><br>Všechny stránky z blogu jsem vyexportoval v HTML a <a href=http://oldblog.zapletalovi.com/filelisting.txt>nahrál na doménu</a> oldblog.zapletalovi.com. Ačkoliv doména lukas.zapletalovi.com nyní již obsahuje jiný systém odkazů, pakliže engine Bloggeru nenajde linkovanou stránku, přesměřuje na tento statický server. Ten má nakonfigurovány přesměřování, takže pokud stránka existovala a byla převedena, objeví se kýžený text.<br><br>Pokud stránka neexistuje ani v archivu, pak se objeví hlášení o nenalezené stránce s možností vyhledávání pomocí Google na obou doménách.<br><br>Mimochodem technicky je to řešeno pomocí jednoduchého PHP skriptu a .htaccess souboru. Musím ovšem říci, že všechno jsem to mohl realizovat jen díky tomu, že Blogger.com podporuje přesměřovávání v případě neexistující stránky.<br><br>Ukázka tohoto skriptu:<br><br><code>&lt;?php<br>$sr = $_SERVER['REQUEST_URI'];<br>if ($sr == '/') {<br>header("Location: ...");<br>exit;<br>}<br>$html = str_replace(':', '/', $sr);<br>$html = str_replace('/bliki', '/blog', $html);<br>header("Location: $html.html") ;<br>?></code><br><br>A nastavení .htaccess:<br><br><code>RewriteEngine on<br>RewriteRule ^(blog:.*|bliki:.*)$ /index.php/$1 [L]</code></p></div></div></main><footer class=footer><span>&copy; 2022 Lukáš Zapletal, CC BY 4.0</span>
<span>Built with <a href=https://gohugo.io>hugo</a>, template <a target=_blank href=https://github.com/526avijitgupta/gokarna>gokarna</a></span></footer></body></html>