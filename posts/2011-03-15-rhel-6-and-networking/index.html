<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><style>:root{--accent-color:#FF4D4D}</style><title>RHEL 6 and networking</title><meta name=description content="engineer in pyjama"><meta name=keywords content="blog,lzap,lukáš,zapletal,linux,tech,rhel,english"><meta property="og:url" content="https://blog.zapletalovi.com/posts/2011-03-15-rhel-6-and-networking/"><meta property="og:type" content="website"><meta property="og:title" content="RHEL 6 and networking"><meta property="og:description" content="engineer in pyjama"><meta property="og:image" content="/images/avatar_rh_512.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="RHEL 6 and networking"><meta name=twitter:description content="engineer in pyjama"><meta property="twitter:domain" content="https://blog.zapletalovi.com/posts/2011-03-15-rhel-6-and-networking/"><meta property="twitter:url" content="https://blog.zapletalovi.com/posts/2011-03-15-rhel-6-and-networking/"><meta name=twitter:image content="/images/avatar_rh_512.jpg"><link rel=canonical href=https://blog.zapletalovi.com/posts/2011-03-15-rhel-6-and-networking/><link rel=stylesheet type=text/css href=https://blog.zapletalovi.com/css/normalize.min.css media=print onload='this.media="all"'><link rel=stylesheet type=text/css href=https://blog.zapletalovi.com/css/main.css><link disabled id=dark-theme rel=stylesheet href=https://blog.zapletalovi.com/css/dark.css><script src=https://blog.zapletalovi.com/js/svg-injector.min.js></script>
<script src=https://blog.zapletalovi.com/js/feather-icons.min.js></script>
<script src=https://blog.zapletalovi.com/js/main.js></script>
<script type=text/javascript>var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-16034952-1"]),_gaq.push(["_trackPageview"]),function(){var t,e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)}()</script></head><body><script type=text/javascript>setThemeByUserPref()</script><header class=header><nav class=header-nav><div class=avatar><a href=https://blog.zapletalovi.com><img src=https://blog.zapletalovi.com/images/avatar_rh_512.jpg alt=avatar></a></div><div class=nav-title><a class=nav-brand href=https://blog.zapletalovi.com>Lukáš Zapletal</a></div><div class=nav-links><div class=nav-link><a href=https://blog.zapletalovi.com/posts/>Posts</a></div><div class=nav-link><a href=https://blog.zapletalovi.com/me/>About me</a></div><div class=nav-link><a href=https://blog.zapletalovi.com/contact/>Contact</a></div><div class=nav-link><a href=https://blog.zapletalovi.com/tags/>Tags</a></div><div class=nav-link><a href=https://github.com/lzap><span data-feather=github></span></a></div><div class=nav-link><a href=https://mastodon.social/@lzap><img class=svg-inject src=/svg/icons/mastodon.svg></a></div><div class=nav-link><a href=https://twitter.com/lzap><span data-feather=twitter></span></a></div><div class=nav-link><a href=https://www.buymeacoffee.com/lzap><span data-feather=coffee></span></a></div><div class=nav-link><a href=https://blog.zapletalovi.com/index.xml><span data-feather=rss></span></a></div><span class=nav-icons-divider></span><div class="nav-link dark-theme-toggle"><span id=dark-theme-toggle-screen-reader-target class=sr-only></span>
<a><span id=theme-toggle-icon data-feather=moon></span></a></div><div class=nav-link id=hamburger-menu-toggle><span id=hamburger-menu-toggle-screen-reader-target class=sr-only>menu</span>
<a><span data-feather=menu></span></a></div><ul class="nav-hamburger-list visibility-hidden"><li class=nav-item><a href=https://blog.zapletalovi.com/posts/>Posts</a></li><li class=nav-item><a href=https://blog.zapletalovi.com/me/>About me</a></li><li class=nav-item><a href=https://blog.zapletalovi.com/contact/>Contact</a></li><li class=nav-item><a href=https://blog.zapletalovi.com/tags/>Tags</a></li><li class=nav-item><a href=https://github.com/lzap><span data-feather=github></span></a></li><li class=nav-item><a href=https://mastodon.social/@lzap><img class=svg-inject src=/svg/icons/mastodon.svg></a></li><li class=nav-item><a href=https://twitter.com/lzap><span data-feather=twitter></span></a></li><li class=nav-item><a href=https://www.buymeacoffee.com/lzap><span data-feather=coffee></span></a></li><li class=nav-item><a href=https://blog.zapletalovi.com/index.xml><span data-feather=rss></span></a></li><li class="nav-item dark-theme-toggle"><span id=dark-theme-toggle-screen-reader-target class=sr-only>theme</span>
<a><span id=theme-toggle-icon data-feather=moon></span></a></li></ul></div></nav></header><main id=content><div class="post container"><div class=post-header-section><h1>RHEL 6 and networking</h1><small role=doc-subtitle></small><p class=post-date>March 15, 2011</p><ul class=post-tags><li class=post-tag><a href=https://blog.zapletalovi.com/tags/rhel>rhel</a></li><li class=post-tag><a href=https://blog.zapletalovi.com/tags/english>english</a></li></ul></div><div class=post-content><p>To someone surprise <b>Red Hat Enterprise Linux 6</b> does not configure network when you do the default minimal installation. You can still make the Anaconda installer to do it for you but you need to hit Configure network button on the domain name setting page. If you forget you don't have a network. Tough luck.<br><br>Since RHEL6 use NetworkManager by default users that just installed text-only server can be surprised twice as their <i>/etc/sysconfig/network-scripts/ifcfg-eth0</i> can look like:<br><br><i>DEVICE="eth0"<br>HWADDR="XX:XX:XX:XX:XX:XX"<br>NM_CONTROLLED="yes"<br>ONBOOT="no"</i><br><br>By setting ONBOOT to "yes" <b>does not change a thing</b>! Since there is no NetworkManager the interface cannot magically go up. What you need to do is to add BOOTPROTO="dhcp" or BOOTPROTO="static" respectively. It does not matter if you change NM_CONTROLLED to "no" or "yes" because, again, it has not been installed with the default (or minimal) server installation. On the other hand you can set it to "no" just in case you install it later on.<br><br>Now, what you really need it this:<br><br><i>DEVICE="eth0"<br>HWADDR="XX:XX:XX:XX:XX:XX"<br>NM_CONTROLLED="no"<br>ONBOOT="yes"<br>BOOTPROTO="dhcp"</i><br><br>for DHCP configuration. For static one do something like:<br><br><i>DEVICE="eth0"<br>HWADDR="XX:XX:XX:XX:XX:XX"<br>NM_CONTROLLED="no"<br>ONBOOT="yes"<br>BOOTPROTO="static"<br>IPADDR=XXX.XXX.XXX.XXX<br>NETMASK=XXX.XXX.XXX.XXX</i><br><br>Please note you cannot set both DNS1 and DNS2 here because this setting is solely for PPP connections. You need to update your <i>/etc/resolv.conf</i> adding "nameserver XXX.XXX.XXX.XXX" line(s). And don't forget to set GATEWAY="XXX.XXX.XXX.XXX" in the <i>/etc/sysconfig/network</i> config file! Now:<br><br><i>service network restart</i><br><br>You are done. One more trick today. No internet and you are not sure about the options in ifcfg-eth0 or network sysconfig files? Everything is documented! Just remember this file: <i>/usr/share/doc/initscripts-*/sysconfig.txt</i>. I know this can be pretty challenging thus I recommend just to remember <i>sysconfig.txt</i> and find it with slocate or GNU find. Or train the <i>rpm -qd initscripts</i> command which shows all the documentation files from the initscripts RPM packages. Use the force, Luke.</p></div></div></main><footer class=footer><span>&copy; 2022 Lukáš Zapletal, CC BY 4.0</span>
<span>Built with <a href=https://gohugo.io>hugo</a>, template <a target=_blank href=https://github.com/526avijitgupta/gokarna>gokarna</a></span></footer></body></html>