<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><style>:root{--accent-color:#FF4D4D}</style><title>Fedora Silverlight: not only for your grandma</title><meta name=description content="engineer in pyjama"><meta name=keywords content="blog,lzap,lukáš,zapletal,linux,tech,fedora"><meta property="og:url" content="https://blog.zapletalovi.com/posts/2021-11-11-fedora-silverlight-not-only-for-your-grandma/"><meta property="og:type" content="website"><meta property="og:title" content="Fedora Silverlight: not only for your grandma"><meta property="og:description" content="engineer in pyjama"><meta property="og:image" content="/images/avatar_rh_512.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Fedora Silverlight: not only for your grandma"><meta name=twitter:description content="engineer in pyjama"><meta property="twitter:domain" content="https://blog.zapletalovi.com/posts/2021-11-11-fedora-silverlight-not-only-for-your-grandma/"><meta property="twitter:url" content="https://blog.zapletalovi.com/posts/2021-11-11-fedora-silverlight-not-only-for-your-grandma/"><meta name=twitter:image content="/images/avatar_rh_512.jpg"><link rel=canonical href=https://blog.zapletalovi.com/posts/2021-11-11-fedora-silverlight-not-only-for-your-grandma/><link rel=stylesheet type=text/css href=https://blog.zapletalovi.com/css/normalize.min.css media=print onload='this.media="all"'><link rel=stylesheet type=text/css href=https://blog.zapletalovi.com/css/main.css><link disabled id=dark-theme rel=stylesheet href=https://blog.zapletalovi.com/css/dark.css><script src=https://blog.zapletalovi.com/js/svg-injector.min.js></script>
<script src=https://blog.zapletalovi.com/js/feather-icons.min.js></script>
<script src=https://blog.zapletalovi.com/js/main.js></script>
<script type=text/javascript>var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-16034952-1"]),_gaq.push(["_trackPageview"]),function(){var t,e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)}()</script></head><body><script type=text/javascript>setThemeByUserPref()</script><header class=header><nav class=header-nav><div class=avatar><a href=https://blog.zapletalovi.com><img src=https://blog.zapletalovi.com/images/avatar_rh_512.jpg alt=avatar></a></div><div class=nav-title><a class=nav-brand href=https://blog.zapletalovi.com>Lukáš Zapletal</a></div><div class=nav-links><div class=nav-link><a href=https://blog.zapletalovi.com/posts/>Posts</a></div><div class=nav-link><a href=https://blog.zapletalovi.com/me/>About me</a></div><div class=nav-link><a href=https://blog.zapletalovi.com/contact/>Contact</a></div><div class=nav-link><a href=https://blog.zapletalovi.com/tags/>Tags</a></div><div class=nav-link><a href=https://github.com/lzap><span data-feather=github></span></a></div><div class=nav-link><a href=https://mastodon.social/@lzap><img class=svg-inject src=/svg/icons/mastodon.svg></a></div><div class=nav-link><a href=https://twitter.com/lzap><span data-feather=twitter></span></a></div><div class=nav-link><a href=https://www.buymeacoffee.com/lzap><span data-feather=coffee></span></a></div><div class=nav-link><a href=https://blog.zapletalovi.com/index.xml><span data-feather=rss></span></a></div><span class=nav-icons-divider></span><div class="nav-link dark-theme-toggle"><span id=dark-theme-toggle-screen-reader-target class=sr-only></span>
<a><span id=theme-toggle-icon data-feather=moon></span></a></div><div class=nav-link id=hamburger-menu-toggle><span id=hamburger-menu-toggle-screen-reader-target class=sr-only>menu</span>
<a><span data-feather=menu></span></a></div><ul class="nav-hamburger-list visibility-hidden"><li class=nav-item><a href=https://blog.zapletalovi.com/posts/>Posts</a></li><li class=nav-item><a href=https://blog.zapletalovi.com/me/>About me</a></li><li class=nav-item><a href=https://blog.zapletalovi.com/contact/>Contact</a></li><li class=nav-item><a href=https://blog.zapletalovi.com/tags/>Tags</a></li><li class=nav-item><a href=https://github.com/lzap><span data-feather=github></span></a></li><li class=nav-item><a href=https://mastodon.social/@lzap><img class=svg-inject src=/svg/icons/mastodon.svg></a></li><li class=nav-item><a href=https://twitter.com/lzap><span data-feather=twitter></span></a></li><li class=nav-item><a href=https://www.buymeacoffee.com/lzap><span data-feather=coffee></span></a></li><li class=nav-item><a href=https://blog.zapletalovi.com/index.xml><span data-feather=rss></span></a></li><li class="nav-item dark-theme-toggle"><span id=dark-theme-toggle-screen-reader-target class=sr-only>theme</span>
<a><span id=theme-toggle-icon data-feather=moon></span></a></li></ul></div></nav></header><main id=content><div class="post container"><div class=post-header-section><h1>Fedora Silverlight: not only for your grandma</h1><small role=doc-subtitle></small><p class=post-date>November 11, 2021</p><ul class=post-tags><li class=post-tag><a href=https://blog.zapletalovi.com/tags/linux>linux</a></li><li class=post-tag><a href=https://blog.zapletalovi.com/tags/fedora>fedora</a></li></ul></div><div class=post-content><p><h1 id=fedora-silverblue-not-only-for-your-grandma>Fedora Silverblue: not only for your grandma</h1><p>I have migrated my grandparents to Fedora Silverblue, previously they used
CentOS. I was impressed how everything worked well and I like where Fedora is
going overall. Less pre-installed software, I am hoping for more packages to be
dropped - Evolution backend, on-line accounts, Maps and others. Overall, it
works great.</p><p>Setting up Fedora Silverblue was easy, installation smooth. Then I had to
ensure screen does not lock (they hate this):</p><pre><code>gsettings set org.gnome.desktop.screensaver lock-enabled false
</code></pre><p>Timezone was not right, I had to misclick during installation:</p><pre><code>timedatectl set-timezone Europe/Prague
</code></pre><p>I have found out that the default policy is not to automaticaly update OS
without askint, what I want is auto updating without any question because they
would never confirm it:</p><pre><code>grep Update /etc/rpm-ostreed.conf
AutomaticUpdatePolicy=stage
</code></pre><p>This configuration should stage updates for automatic installation (I mean
boot). This finishes the configuration:</p><pre><code>rpm-ostree reload
systemctl enable rpm-ostreed-automatic.timer --now
</code></pre><p>Now, I want to access those workstation via ssh, but my parents are stuck
behind home firewalls. I came up with a solution - reverse ssh tunelling. I
enabled ssh, generated keys and connected to my server:</p><pre><code>systemctl enable --now sshd
ssh-keygen
ssh xssh@xxx.zapletalovi.com
</code></pre><p>A new user service will be started to create the tunnel:</p><pre><code>mkdir -p ~/.config/systemd/user
</code></pre><p>I am forwarding both ports 22 and 5900:</p><pre><code>cat ~/.config/systemd/user/reverse-ssh.service
[Unit]
Description=Reverse SSH connection
After=network.target
[Service]
Type=simple
ExecStart=/usr/bin/ssh -g -N -T -o &quot;ServerAliveInterval 10&quot; -o &quot;ExitOnForwardFailure yes&quot; -R 40122:localhost:22 -R 40159:localhost:5900 xssh@xxx.zapletalovi.com
Restart=always
RestartSec=10m
[Install]
WantedBy=default.target
</code></pre><p>To enable the service:</p><pre><code>systemctl --user daemon-reload
systemctl --user enable --now reverse-ssh
</code></pre><p>Unfortunately, I was not able to get VNC running. After I enabled Remote
Desktop in Gnome, I could not find any VNC client that would work. The best I
could achieve was a frozen screen when connected on my LAN. Maybe I will find
one later on, there are some developments in Fedora 35.</p><p>That should do it, ideal OS for elders - no reboots into dnf, no viruses, just
internet and a printer. Upgrading to major Fedora releases should be also easy
and I can do it via ssh:</p><pre><code>ostree remote refs fedora
rpm-ostree rebase fedora:fedora/XX/x86_64/silverblue
</code></pre><p>To revert to the previus version, simply pick the previous boot entry and
perform <code>rpm-ostree rollback</code>. Which reminds me - Fedora 35 is out, I should
probably upgrade them now.</p></p></div></div></main><footer class=footer><span>&copy; 2022 Lukáš Zapletal, CC BY 4.0</span>
<span>Built with <a href=https://gohugo.io>hugo</a>, template <a target=_blank href=https://github.com/526avijitgupta/gokarna>gokarna</a></span></footer></body></html>