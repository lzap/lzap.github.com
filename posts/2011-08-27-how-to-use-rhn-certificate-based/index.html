<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><style>:root{--accent-color:#FF4D4D}</style><title>RHN Subscription Management in RHEL 6</title><meta name=description content="engineer in pyjama"><meta name=keywords content="blog,lzap,lukáš,zapletal,linux,tech,redhat,katello,rhn"><meta property="og:url" content="https://blog.zapletalovi.com/posts/2011-08-27-how-to-use-rhn-certificate-based/"><meta property="og:type" content="website"><meta property="og:title" content="RHN Subscription Management in RHEL 6"><meta property="og:description" content="engineer in pyjama"><meta property="og:image" content="/images/avatar_rh_512.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="RHN Subscription Management in RHEL 6"><meta name=twitter:description content="engineer in pyjama"><meta property="twitter:domain" content="https://blog.zapletalovi.com/posts/2011-08-27-how-to-use-rhn-certificate-based/"><meta property="twitter:url" content="https://blog.zapletalovi.com/posts/2011-08-27-how-to-use-rhn-certificate-based/"><meta name=twitter:image content="/images/avatar_rh_512.jpg"><link rel=canonical href=https://blog.zapletalovi.com/posts/2011-08-27-how-to-use-rhn-certificate-based/><link rel=stylesheet type=text/css href=https://blog.zapletalovi.com/css/normalize.min.css media=print onload='this.media="all"'><link rel=stylesheet type=text/css href=https://blog.zapletalovi.com/css/main.css><link disabled id=dark-theme rel=stylesheet href=https://blog.zapletalovi.com/css/dark.css><script src=https://blog.zapletalovi.com/js/svg-injector.min.js></script>
<script src=https://blog.zapletalovi.com/js/feather-icons.min.js></script>
<script src=https://blog.zapletalovi.com/js/main.js></script>
<script type=text/javascript>var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-16034952-1"]),_gaq.push(["_trackPageview"]),function(){var t,e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)}()</script></head><body><script type=text/javascript>setThemeByUserPref()</script><header class=header><nav class=header-nav><div class=avatar><a href=https://blog.zapletalovi.com><img src=https://blog.zapletalovi.com/images/avatar_rh_512.jpg alt=avatar></a></div><div class=nav-title><a class=nav-brand href=https://blog.zapletalovi.com>Lukáš Zapletal</a></div><div class=nav-links><div class=nav-link><a href=https://blog.zapletalovi.com/posts/>Posts</a></div><div class=nav-link><a href=https://blog.zapletalovi.com/me/>About me</a></div><div class=nav-link><a href=https://blog.zapletalovi.com/contact/>Contact</a></div><div class=nav-link><a href=https://blog.zapletalovi.com/tags/>Tags</a></div><div class=nav-link><a href=https://github.com/lzap><span data-feather=github></span></a></div><div class=nav-link><a href=https://mastodon.social/@lzap><img class=svg-inject src=/svg/icons/mastodon.svg></a></div><div class=nav-link><a href=https://twitter.com/lzap><span data-feather=twitter></span></a></div><div class=nav-link><a href=https://www.buymeacoffee.com/lzap><span data-feather=coffee></span></a></div><div class=nav-link><a href=https://blog.zapletalovi.com/index.xml><span data-feather=rss></span></a></div><span class=nav-icons-divider></span><div class="nav-link dark-theme-toggle"><span id=dark-theme-toggle-screen-reader-target class=sr-only></span>
<a><span id=theme-toggle-icon data-feather=moon></span></a></div><div class=nav-link id=hamburger-menu-toggle><span id=hamburger-menu-toggle-screen-reader-target class=sr-only>menu</span>
<a><span data-feather=menu></span></a></div><ul class="nav-hamburger-list visibility-hidden"><li class=nav-item><a href=https://blog.zapletalovi.com/posts/>Posts</a></li><li class=nav-item><a href=https://blog.zapletalovi.com/me/>About me</a></li><li class=nav-item><a href=https://blog.zapletalovi.com/contact/>Contact</a></li><li class=nav-item><a href=https://blog.zapletalovi.com/tags/>Tags</a></li><li class=nav-item><a href=https://github.com/lzap><span data-feather=github></span></a></li><li class=nav-item><a href=https://mastodon.social/@lzap><img class=svg-inject src=/svg/icons/mastodon.svg></a></li><li class=nav-item><a href=https://twitter.com/lzap><span data-feather=twitter></span></a></li><li class=nav-item><a href=https://www.buymeacoffee.com/lzap><span data-feather=coffee></span></a></li><li class=nav-item><a href=https://blog.zapletalovi.com/index.xml><span data-feather=rss></span></a></li><li class="nav-item dark-theme-toggle"><span id=dark-theme-toggle-screen-reader-target class=sr-only>theme</span>
<a><span id=theme-toggle-icon data-feather=moon></span></a></li></ul></div></nav></header><main id=content><div class="post container"><div class=post-header-section><h1>RHN Subscription Management in RHEL 6</h1><small role=doc-subtitle></small><p class=post-date>August 27, 2011</p><ul class=post-tags><li class=post-tag><a href=https://blog.zapletalovi.com/tags/redhat>redhat</a></li><li class=post-tag><a href=https://blog.zapletalovi.com/tags/katello>katello</a></li><li class=post-tag><a href=https://blog.zapletalovi.com/tags/rhn>rhn</a></li></ul></div><div class=post-content><p>Prominent change in the new Red Hat Enterprise Linux 6.1 is brand new subscription management. While RHEL 6.1 still include the classic RHN tools and commands (rhn_register, rhnreg_ks and others), it is also possible to use the new <b>RHN Certificate-Based Subscription Management</b>. In this article, I am going to go through all the required steps of sucessful registration and subscription of a RHEL 6.1 system.<br><br>First of all make sure you did not use the classic RHN before you procced with the tutorial. To unregister a machine, just delete this file:<br><br><i># rm /etc/sysconfig/rhn/systemid</i><br><br>You can also log in to the <a href=https://rhn.redhat.com>RHN site</a> and delete the system there. Now, we are going to subscribe using the new method.<br><br>If you do have a graphical desktop on the machine you can use <a href=http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Deployment_Guide/launching-ents-tools.html>subscription-manager-gui</a> tool which has pretty sleek interface and provides you with all the required steps. My primary target is to show process of registering using command line tool subscription-manager.<br><br>The first step is to register a machine. The following command identifies our system to the subscription service:<br><br><i># subscription-manager register</i><br><br>You are asked for your RHN login credentials (username and password). You can also provide some additional options like <i>name</i> (custom system name instead of hostname), <i>autosubscribe</i> (to automatically subscribe) or <i>force</i> (to unregister machine if it was already registered). We won't use any options in our tutorial.<br><br>You can now login to the <a href=https://access.redhat.com>access.redhat.com</a> site and visit brand new section Subscriptions - CERTIFICATE-BASED MANAGEMENT to see the system (consumer in the terms of RHN).<br><br>Let's display all of the subscriptions that are compatible with the machine, either subscriptions that are actually consumed by the machine or unused subscriptions that are available to the machine:<br><br><i># subscription-manager list</i><br><br>The next step is to consume a subscription. You need to provide pool id using the <i>pool</i> argument, or <i>auto</i> option to determine subscription according to the installed system. In our case the command would be:<br><br><i># subscription-manager subscribe --auto</i><br><br>We are done, the system is registered and yum should deliver packages and updates via new Red Hat Content Delivery Network, resulting in significantly faster download speeds. You can also disable the classic RHN yum plugin if you want by editing <i>/etc/yum/pluginconf.d/rhnplugin.conf</i> and setting enabled to 0.<br><br>For more info read the <a href=http://docs.redhat.com/docs/en-US/Red_Hat_Customer_Portal/1/pdf/Red_Hat_Network_Certificate-based_Subscription_Management/Red_Hat_Customer_Portal-1-Red_Hat_Network_Certificate-based_Subscription_Management-en-US.pdf>Red Hat Network Certificate-based Subscription Management</a> user guide (PDF link).</p></div></div></main><footer class=footer><span>&copy; 2022 Lukáš Zapletal, CC BY 4.0</span>
<span>Built with <a href=https://gohugo.io>hugo</a>, template <a target=_blank href=https://github.com/526avijitgupta/gokarna>gokarna</a></span></footer></body></html>