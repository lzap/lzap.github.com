---
layout: post
title: Pořádek v nastavení vimu pomocí pluginu Pathogen
date: 2011-01-28
tags:
- vim
---

<h1>{{ page.title }}</h1>
Vim asi používáte všichni. V podstatě z nám jen jednoho člověka, který Vim zatím nepoužívá, ale dost vážně o tom uvažuje. Tolik na úvod.<br /><br />S přibývajícími zkušenostmi s tímto špičkovým editorem začíná člověk po internetu honit různé pluginy a jiné vychytávky. Instalují se obvykle rozbalením do adresáře ~/.vim, případně rozbalením .vba (to není visual basic ale vimball archiv). Takový vimball se rozbalí přímo ve Vimu příkazem :so. To jsou dva způsoby instalace s téměř stejným výsledkem, a totiž nevalným. Odinstalace je velmi pracná, někdy nemožná.<br /><br />Ačkoli vba archiv sice vytvoří něco jako záznam instalace a plugin lze odstranit speciálním příkazem, většina pluginů jsou stejně k dispozici jako obyčejné soubory nehledě na to, že některé pluginy je třeba ještě doinstalovat a "vytunit" (něco zkompilovat a podobně).<br /><br />Jak na to? Už několik let mám svůj adresář .vim v RCS systému. Nejprve to byl Subversion, po čistce, kterou jsem anoncoval nedávno do blogu, to je nyní <a href="https://github.com/lzap/vim-lzap">git repozitář</a>. Tak ale řeším ten "největší" binec. Ale vězte že taková odinstalace pluginu, který byl několikrát zaktualizován, není žádný med (sada git revertů).<br /><br />Dnes jsem objevil plugin <a href="http://www.vim.org/scripts/script.php?script_id=2332&rating=life_changing">pathogen</a>. Jeho instalace je triviální - stačí nakopírovat jeden soubor do .vim/autoload a do .vimrc umístit jeden jediný příkaz. A co to umí? Inu takovou "drobnost": načítat pluginy separovaně z adresáře .vim/bundle/plugin1, plugin2, plugin3... To je panečku pořádek, za který by se ani robotický vysavač s litiovými bateriemi na palubě a ramenem pro překonávání prahů až do výšky 8 cm nemusel stydět.<br /><br />Tento způsob lze použít ruku v ruce s gitem. Stačí si pluginy prostě stahovat jako git-submoduly. Pak je jejich aktualizace doslova hračkou (git pull). Špičkové. Elegantní. Famózní. Tleskám nohama.<br /><br />Nedávno jsem byl informován, že můj blog čte člověk, který není z IT oblasti. Jardo, pokud jsi dnes nerozumněl ani slovo, nezoufej. Celé to povídání lze zapsat i jinak. Poměrně přehledný přepis přikládám:<br /><br /><i>pushd ~/.vim || echo "Nemáš vim, nepokračuj. Nemá to cenu."<br />git init<br />git add .<br />git commit -m "Moje vim konfigurace - první verze"<br />mkdir autoload 2>/dev/null<br />wget "http://www.vim.org/scripts/download_script.php?src_id=12116" -O autoload/pathogen.vim<br />echo "call pathogen#runtime_append_all_bundles()" >> ~/.vimrc<br />git add .<br />git commit -m "Instalace pathogenu"<br />git submodule add git://git.wincent.com/command-t.git bundle/command-t<br />git submodule init<br />git add .<br />git commit -m "Přidání pluginu CommandT"<br /># zde přidej další pluginy dle libosti<br />popd</i><br /><br />Paráda.