---
layout: post
title: Jak vygenerovat testovací certifikát
date: 2010-04-22
tags:
- oldblog
---

<h1>{{ page.title }}</h1>
<h1><a href="" id="jak_vygenerovat_testovaci_certifikat" name="jak_vygenerovat_testovaci_certifikat"></a></h1><div class="level1">     Potřeboval jsem si vystavit self-signed certifkát pro testovací účely  (https, šifrování e-mailů, autentizace přes http atd). Následující  postup je stručným výpisem příkazů, kterými musíte nakrmit OpenSSL,  abyste dostali, co potřebujete. <br /></div><!-- SECTION "Jak vygenerovat testovací certifikát" [1-325] --> <h2><a href="" id="vygenerovani_zadosti" name="vygenerovani_zadosti">Vygenerování  žádosti</a></h2><div class="level2"> <pre class="code">openssl req -new -out lukas_zapletal.req -keyout lukas_zapletal.key -days 9999</pre>Heslo je nutné nastavit, pro přehlednost nastavím stejné, jako je jméno  souboru. Tedy „lukas_zapletal“. <br /></div><!-- SECTION "Vygenerování žádosti" [326-566] --> <h2><a href="" id="podepsani_zadosti" name="podepsani_zadosti">Podepsání žádosti</a></h2><div class="level2"> <pre class="code">openssl ca -in lukas_zapletal.req -out lukas_zapletal.pem -policy \<br />policy_anything -outdir . -cert ../cacert.pem -keyfile ../private/cakey.pem \<br />-verbose -days 9999</pre>Heslo stejné, jako výše. <br /></div><!-- SECTION "Podepsání žádosti" [567-811] --> <h2><a href="" id="export_do_formatu_pkcs_12" name="export_do_formatu_pkcs_12">Export  do formátu PKCS#12</a></h2><div class="level2"> <pre class="code">openssl pkcs12 -in lukas_zapletal.pem -inkey lukas_zapletal.key \<br />-export -out lukas_zapletal.p12</pre><br />Opět se bude ptát na heslo, zadáme výše uvedené. Exportní heslo můžeme nastavit stejné, jiné nebo žádné. To budeme zadávat při importu do  prohlížeče nebo jiného formátu, kam chceme P12 soubor importovat. <br /></div><!-- SECTION "Export do formátu PKCS#12" [812-1189] --> <h2><a href="" id="ca" name="ca">CA</a></h2><div class="level2">    V příkladech předpokládám, že máte vytvořený certifikát CA  (self-signed). Ten můžete vytvořit například podle návodu na AbcLinuxu: <a class="urlextern" href="http://www.abclinuxu.cz/clanky/bezpecnost/ssl-1-certifikaty" rel="nofollow" title="http://www.abclinuxu.cz/clanky/bezpecnost/ssl-1-certifikaty">http://www.abclinuxu.cz/clanky/bezpecnost/ssl-1-certifikaty</a> <br /></div><br /><i>Tento zápisek vznikl převodem z mého starého blogu. Ne všechny texty byly takto převedeny, kompletní archiv najdete v <a href="http://static.zapletalovi.com/oldblog">HTML archivu</a>.</i>