---
layout: post
title: Jazyk Genie
date: 2010-06-02
tags:
- genie
- vala
---

<h1>{{ page.title }}</h1>
Před pár dny jsem se tady rozplýval nad jazykem Vala. Sice ještě není úplně vyladěn, ale myslím že bude hrát významnou roli zejména na linuxovém desktopu, a to nejen v prostředí Gnome, ale na Linuxu celkově. Syntaxe vychází z jazyků C# a Java. Někdo má ovšem raději Python, jiný zase Javu nebo C# nezkousne.<br /><br />A právě pro tyto účely je zde nový jazyk <a href="http://live.gnome.org/Genie">Genie</a>. Svojí syntaxí a jednoduchostí připomíná Python, Boo nebo D. Očekávejte tedy snadno naučitelnou syntaxi, čistý zápis bez přebytečných závorek (ano odsazování ve stylu Pythonu) a stoprocentní komatibilitu s Valou. A kde že Genie seženete? Pokud máte nainstalovaný kompilotár Vala, máte automaticky i Genie. Je to jen jiná syntaxe pro úplně to samé. Klasická ukázka:<br /><br /><pre>[indent=2]<br />init<br />  print "Hello World"</pre><br />Kompilace pak:<br /><br /><pre>$ valac hello.gs<br />$ ./hello</pre><br />Snadné, že? Ale proč vlastně nepoužít rovnou Python? Inu Geni je podobně jako Vala kompilovaný jazyk. Vytvořená Hello World binárka má pár kilobajtů. Jako byste ji napsali v jazyce C. Žádný runtime. Žádný garbage collector.<br /><br />Genie si ovšem zachovává všechny výhody, jako má Vala. Například odvozování typů.<br /><pre>var i = 3<br /><br />var<br />  a = "happy"<br />  b = "sad"<br />  c = "ambivalent"<br />    <br />for var I = 1 to 10<br />  print "looping"    </pre><br />Líbí se vám ve Vale kontrola na null? Genie ji má taky.<br /><br /><pre>def fn_allow_nulls (string? param) : string?<br />  return param</pre><br />Genie má podobně jako Vala ukazatele, takže paměť můžete spravovat i sami. Někdy je to holt potřeba - když například použijete knihovnu z jazyka C, která vyžaduje práci s ukazateli.<br /><br />Práce s objekty je snadná.<br /><br /><pre>class Foo : Object<br />        <br />    prop a : int<br />   <br />    init     <br />        print "foo is intitialized"<br /><br />    final<br />        print "foo is being destroyed"<br />       <br />    /* only class properties may be set in creation methods */    <br />    construct (b : int)<br />        a = b<br /><br />    /* only class properties may be set in creation methods */        <br />    construct with_bar (bar : int)<br />        a = bar</pre><br />Genie umí rozhraní, vlastnosti (properties), signály, delegáty, stukruty, výčty, výjimky. Genie má vše. Můžete jej používat už dnes.<br /><br />Těším se, až se překladač jazyka Vala dostane do verze 1.0 a stabilizuje se API/ABI. Odhaduji, že se Vala/Genie začnou raketově rozšiřovat.