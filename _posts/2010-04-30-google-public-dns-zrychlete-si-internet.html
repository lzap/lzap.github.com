---
layout: post
title: Google Public DNS - Zrychlete si internet
date: 2010-04-30
tags:

---

<h1>{{ page.title }}</h1>
Před několika lety jsem upozorňoval na to, jak může nešikovná konfigurace DNS způsobovat pomalé prohlížení webových stránek. Taková nešikovnost se může stát jak na straně klienta (tedy v počítači uživatele), tak i na straně poskytovatele internetového připojení.<br /><br />Velmi často se setkávám s providery, kteří mají DNS servery ve špatném stavu. A netýká se to jen "levných" Wi-Fi poskytovatelů a přístupových bodů zdarma (v kavárnách a podobně), ale také poskytovatelů přes ADSL. A přitom je to snadné -- DNS servery musejí vracet rychle správné výsledky.<br /><br />Toto zpomalování může uživatel pocítit častým zobrazováním "bílé" stránky. Dnešní moderní prohlížeče jsou schopny začít s "vysazováním" prvků na stránku téměř ihned (stačí jim první části CSS a HTML souborů). Postupně pak výsledek "zpřesňují". Dokud ale prohlížeč nezná IP adresu stroje, není ani HTML, ani CSS. A IP adresa se zjišťuje z DNS.<br /><br />Jedním z primárních cílů společnosti Google je dostat uživatele na internet. Čím rychleji, tím lépe. Není se čemu divit, že firma dělá všechno proto, aby to uživatelům usnadnila. Jedním z mnoha nástrojů, kterými Google přispívá k plynulejšímu chodu internetu, je <a href="http://code.google.com/intl/cs/speed/public-dns/">Google Public DNS</a>.<br /><br />V podstatě se jedná o veřejnou službu DNS ve kvalitě dosud nevídané. Google se v tomto případě řídí osvědčeným heslem: rychle, kvalitně a bezpečně. Pod IP adresami 8.8.8.8 a 8.8.4.4 se skrývá množství serverů (Google využívá takzvaný load-balancing), které mezi sebou inteligentně replikují data a navíc pomocí speciálních technik sledování chování uživatelů také přednačítají data (prefetching). Vše při zachování oficiálních DNS specifikací.<br /><br />Pokud jste tedy nespokojení s odezvami svých prohlížečů při brouzdání webem, stačí si nastavit místo svých obvyklých DNS serverů tyto dvě IP adresy. Můžete čekat, že to bude lepší. Podle mojí zkušenosti z různých free Wi-Fi spotů a dokonce holandských ADSL providerů je zrychlení velmi výrazné.<br /><br />Pokud to chcete jen vyzkoušet, změňte následující dva řádky do souboru /etc/resolv.conf (ostatní řádky s "nameserver" smažte):<br /><br /><i>nameserver 8.8.8.8<br />nameserver 8.8.4.4</i><br /><br />Pakliže se vám nové DNS servery zalíbí, pak doporučuji následující postup (Ubuntu), abyste nemuseli soubor resolv.conf upravovat po každém restartu. V souboru /etc/dhcp3/dhclient.conf vložte na poslední řádek<br /><br /><i>supersede domain-name-servers 8.8.8.8,8.8.4.4;</i><br /><br />V obou případech musíte ale restartovat prohlížeč, jinak nenabyde nové nastavení platnosti.