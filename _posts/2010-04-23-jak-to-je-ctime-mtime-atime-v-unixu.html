---
layout: post
title: Jak to je ctime, mtime, atime v UNIXu
date: 2010-04-23
tags:
- oldblog
---

<h1>{{ page.title }}</h1>
<h1><span class="Apple-style-span" style="font-size: medium; font-weight: normal;">Začnu tím nejjednodušším:&nbsp;<strong>atime</strong>&nbsp;(access time) – čas posledního přístupu k souboru. Dost administrátorů však z důvodů výkonu filesystému modifikaci tohoto atributu vypíná, takže se na děj nedá moc spolehnout. Potom existuje&nbsp;<strong>mtime</strong>&nbsp;(modification time), což je datum poslední modifikace obsahu souboru. No a aby to nebylo jednoduché, přichází na scénu&nbsp;<strong>ctime</strong>&nbsp;(change time) – čas poslední modifikace informací v inodu (práva, vlastník, název, cesta a jiné).</span></h1><div class="level1">Kdykoli se změní obsah souboru (mtime), je na stejný čas změněn i čas změny informací o souboru (ctime). Kdykoli změníte například práva, pak je zvýšen jen atribut ctime. Je to jednoduché, ale názvy atributů jsou trošku zavádějící. Všimněte si, že žádný atribut nevypovídá o tom,&nbsp;<em>kdy byl soubor vytvořen</em>. Dost často lidí má zafixováno, že&nbsp;<em>ctime = creation time</em>, dokonce to bylo v některých manuálových stránkách v Linuxu špatně.<br /><br />Pokud například chcete zazálohovat přírůstkovou zálohou, musíte porovnávat ctime, protože pokud by někdo změnil práva souboru, musíte provést nové zálohování souboru samotného (obsah se sice nezměnil, ale práva ano). Příklad:<br /><pre class="code bash"><span class="kw2"><br /></span></pre><pre class="code bash"><span class="kw2">find</span> <span class="sy0">/</span>home <span class="re5">-not</span> <span class="re5">-iregex</span> <span class="st_h">'.*\.\(avi\|mpg\|mpeg\|wmv\|jpg\|jpeg\|bmp\|tif\|tiff\)'</span> \<br /> <span class="re5">-cnewer</span> <span class="sy0">/</span>tmp<span class="sy0">/</span>last_backup.timestamp <span class="sy0">|</span> afio <span class="re5">-o</span> <span class="re5">-Z</span> <span class="re5">-P</span> lzop <span class="re5">-Q</span> <span class="re5">-9</span> <span class="sy0">/</span>var<span class="sy0">/</span>backup.cpio</pre></div><i><span class="Apple-style-span" style="font-style: normal;"><br /></span></i><br /><i><span class="Apple-style-span" style="font-style: normal;">Pomocí nástroje touch můžete měnit atime a mtime, nikoli však ctime. V zásadě žádným unixovým příkazem nemůžete měnit ctime.</span></i><br /><i><br /></i><br /><i><span class="Apple-style-span" style="font-style: normal;"></span>Tento zápisek vznikl převodem z mého starého blogu. Ne všechny texty byly takto převedeny, kompletní archiv najdete v <a href="http://static.zapletalovi.com/oldblog">HTML archivu</a>.</i>